<!DOCTYPE html>
  <html lang="en">
    <head>
      <title>Online Games</title>
      <link href="style.css" rel="stylesheet">
    </head>
    <body>
      <button type="button" id="modeButton">Change view mode</button>
      <p>You have visited this site: <span id='visitCount'>1</span> times</p>
      <script>
        function countVisits () {
          storedCount = localStorage.getItem('count');

          // Renamed `count` to `newCount` for more explicit naming and
          // also using a ternary for a shorter if statement.
          var newCount = storedCount === null ? 1 : parseInt(storedCount) + 1;

          // Renamed `Counter` to `count`, as variable names should always
          // begin with a lower case letter.
          var counter = document.getElementById('visitCount');
          counter.innerHTML = newCount;

          localStorage.setItem('count', newCount);
        }
        // Calling `countVisits` right after I declare it so that it runs when the page loads
        countVisits()

        function updateView() {
          var viewSelect = localStorage.getItem('viewMode');
          // Setting the body class to `viewSelect` - or, if there is no value in `viewSelect` -
          // then to the string `'day'`, which will be our default view mode.
          document.body.className = viewSelect || 'day';
        }
        // Calling `updateView` right after I declare it so that it runs when the page loads
        updateView()

        function toggleView () {
          // Getting the mode based on the body, again using a ternary for a shorter `if-else`.
          var newMode = document.body.className === 'night' ? 'day' : 'night';
          localStorage.setItem('viewMode', newMode);
          // Updating the view instead of refreshing the page, because that messing with the
          // visit counter and also is less instantaneous.
          updateView()
        }

        document.getElementById('modeButton').onclick = function () {
          // Just toggling the view when the button is clicked.
          toggleView()
          console.log('Test')
        };

      // Old, inelegant code
      // function countVisits(){
      //     storedCount = localStorage.getItem("count");
      //     if (storedCount == null || storedCount == "null"){
      //       count = 0;
      //     }
      //     else {
      //       count = parseInt(storedCount);
      //     }
      //     count++;
      //     Counter = document.getElementById("visitCount");
      //     Counter.innerHTML = count;
      //     localStorage.setItem("count", count);
      //   }
      //   countVisits()
      //   var viewSelect = localStorage.getItem('viewMode');
      //   document.body.className = viewSelect + 'Class';
      //   document.body.className = viewSelect ? viewSelect + 'Class' : nightMode;
      //   document.getElementById("modeButton").onclick = function() {toggleView()};
      //   function toggleView () {
      //     if (viewSelect === 'night'){
      //       localStorage.setItem('viewMode', 'day');
      //     }
      //     else {
      //       localStorage.setItem('viewMode', 'night');
      //     }
      //     location.reload();
      //   }
        </script>
      <header>
        <h1>Join a Game</h1>
      </header>
      <div class="container">
        <main>
          <div>
            <p class="columns2">We have many games of different genres. Search for a game that you want to become a part of, and apply to join.</p>
          </div>
        </main>
        <aside class="sidebar">
          <form>
            <input type="text" name="Search" placeholder="Search games" size="45">
          </form>
        </aside>
      </div><!--container div -->
      <hr>
      <div>
        <h1>Top Games</h1>
        <div class="game-gallery">
          <div class="game-container">
            <img src="http://lorempixel.com/300/200/cats" alt="Cat">
            <h3>Star Trek: Armada</h3>
            <p>Members: 13<br>Last Post: 2:30PM</p>
          </div>
          <div class="game-container">
            <img src="http://lorempixel.com/300/200/cats" alt="Cat">
            <h3>The Wire</h3>
            <p>Members: 13<br>Last Post: 2:30PM</p>
          </div>
          <div class="game-container">
            <img src="http://lorempixel.com/300/200/cats" alt="Cat">
            <h3>UFC Warriors</h3>
            <p>Members: 13<br>Last Post: 2:30PM</p>
          </div>
        </div>
      </div>
      <div>
        <h1>Create A Game</h1>
        <p>You can create any type of text-based role-playing game that you'd like. All you have to do is think of a subject, and follow the steps to create your game. We will help you:</p>
        <div class="row">
          <div class="column" >
            <ul>
              <li>Create your game</li>
              <li>Pick a category</li>
              <li>Create your own character</li>
              <li>Create the character groups</li>
              <li>Invite members</li>
            </ul>
          </div>
          <div class="column">
            <button type="button"><br><span class="buttonStrong">Create Your Own Game</span><br><span class="buttonMain">You're on your way to becoming a GM</span><br><br></button>
          </div>
        </div>
      </div>
    </body>
  </html>
